## Log configuration
log_mode: file
log_dir: /var/log/crowdsec-spoa/
log_level: info
log_compression: true
log_max_size: 100
log_max_backups: 3
log_max_age: 30

## LAPI configuration
update_frequency: 10s
api_url: http://127.0.0.1:8080/
api_key: ${API_KEY}
insecure_skip_verify: false

## SPOA listener configuration
# Configure TCP and/or Unix socket listeners
listen_tcp: 0.0.0.0:9000
listen_unix: /run/crowdsec-spoa/spoa.sock
#asn_database_path: /var/lib/crowdsec/data/GeoLite2-ASN.mmdb
#city_database_path: /var/lib/crowdsec/data/GeoLite2-City.mmdb

prometheus:
  enabled: false
  listen_addr: 127.0.0.1
  listen_port: 60601

## HTTP Template Server (Experimental)
# This feature allows HAProxy to use an HTTP backend instead of Lua scripts for template rendering
# When enabled, HAProxy can be configured to proxy requests to this server instead of using Lua
# Uses Go native templates (.tmpl files) instead of Lua-style templates
http_template_server:
  enabled: false
  listen_addr: 127.0.0.1
  listen_port: 8081
  # Optional: Custom template paths (defaults to .tmpl files in standard locations if not specified)
  # ban_template_path: /var/lib/crowdsec-haproxy-spoa-bouncer/html/ban.tmpl
  # captcha_template_path: /var/lib/crowdsec-haproxy-spoa-bouncer/html/captcha.tmpl
  tls:
    enabled: false
    # cert_file: /path/to/cert.pem
    # key_file: /path/to/key.pem
